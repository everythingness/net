<!DOCTYPE html> <html data-reactroot data-darkreader-mode=dynamic data-darkreader-scheme=dark class=xmakmuaeij style lang=en-US><!--
 Page saved with SingleFile 
 url: https://www.wired.com/story/this-is-a-philosopher-on-drugs/ 
 saved date: Thu Mar 09 2023 20:44:06 GMT+1100 (Australian Eastern Daylight Time) 
 info: republished in the interests of the flow of free information 🤓 2022
--><meta charset=utf-8><title>This Is a Philosopher on Drugs | WIRED</title><meta content="IE=edge" http-equiv=X-UA-Compatible><meta name=msapplication-tap-highlight content=no><meta name=viewport content="width=device-width, initial-scale=1"><meta name=referrer content=no-referrer-when-downgrade><meta name=author content="Condé Nast"><meta name=copyright content="Copyright (c) Condé Nast 2023"><meta name=description content="I was at the lowest point in my life. I needed a mind-altering jolt. In the end, everything—even the meaning of “everything”—changed."><meta name=id content=64061b826b8fce2586a7acff><meta name=keywords content="longreads,philosophy,drugs,simulations,virtual reality"><meta name=news_keywords content="longreads,philosophy,drugs,simulations,virtual reality"><meta name=robots content="index, follow, max-image-preview:large"><meta name=content-type content=article><meta name=parsely-post-id content=64061b826b8fce2586a7acff><meta name=parsely-metadata content='{"description":"I was at the lowest point in my life. I needed a mind-altering jolt. In the end, everything—even the meaning of “everything”—changed.","image-16-9":"https://media.wired.com/photos/6406503de9beb77b09e83ba3/16:9/w_1000,c_limit/AC_Wired_JSmith-5.jpg","image-1-1":"https://media.wired.com/photos/6406503de9beb77b09e83ba3/1:1/w_1000,c_limit/AC_Wired_JSmith-5.jpg"}'><meta property=og:description content="I was at the lowest point in my life. I needed a mind-altering jolt. In the end, everything—even the meaning of “everything”—changed."><meta property=og:image content=https://media.wired.com/photos/6406503de9beb77b09e83ba3/191:100/w_1280,c_limit/AC_Wired_JSmith-5.jpg><meta property=og:site_name content=WIRED><meta property=og:title content="This Is a Philosopher on Drugs"><meta property=og:type content=article><meta property=og:url content=https://www.wired.com/story/this-is-a-philosopher-on-drugs/><meta property=article:content_tier content=free><meta property=article:opinion content=false><meta http-equiv=content-language content=en-US><meta property=article:section content=tags><meta property=article:published_time content=2023-03-07T11:00:00.000Z><meta property=article:modified_time content=2023-03-07T11:00:00.000Z><meta property=article:author content="Justin E. H. Smith"><meta property=twitter:card content=summary_large_image><meta property=twitter:creator content=@wired><meta property=twitter:description content="I was at the lowest point in my life. I needed a mind-altering jolt. In the end, everything—even the meaning of “everything”—changed."><meta property=twitter:domain content=https://www.wired.com><meta property=twitter:image content="https://media.wired.com/photos/6406503de9beb77b09e83ba3/191:100/w_1280,c_limit/AC_Wired_JSmith-5.jpg?mbid=social_retweet"><meta property=twitter:site content=@wired><meta property=twitter:title content="This Is a Philosopher on Drugs"><meta property=fb:app_id content=719405864858490><meta property=fb:pages content=19440638720><link rel=canonical href=https://www.wired.com/story/this-is-a-philosopher-on-drugs/><link rel=amphtml href=https://www.wired.com/story/this-is-a-philosopher-on-drugs/amp>
<meta id=google-signin-meta name=google-signin-client_id content=904266558061-dqllerrg1949kl0dfu2k64nhvhtqoee0.apps.googleusercontent.com><meta name=darkreader content=6788c57634f74828b48814f2d1b08ed3><link rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABMLAAATCwAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/BQUF/xUVFf8NDQ3/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wcHB/8VFRT/BQUF/zQ0NP94dnb/T05P/xMTE/8EBAT/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wEBAf9MS0r/enh4/zk4OP9HRkb/c3Jy/3p4ef9kY2P/GRkZ/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wEBAf8ODQ3/Xl1c/3l4eP94d3f/YF9e/yMiI/9YV1j/bm1t/yAgIP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8gHx//aWhm/1dWVf8nJib/ZmVk/2JhYf8WFhb/X15f/3p5ev8kJCT/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/Jycm/3Bubf9TUlL/Ghka/2xrbP9samv/GRgZ/2ppav+KiIv/KSkp/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/ykpKf92dXX/Wlla/xwcHP93dXf/d3V3/xwbHP93dnn/nZye/y8vMP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8tLCz/gH+A/2JhYv8fHh//g4KE/4WEhv8gICD/iomM/7i3uf84ODj/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/MTAx/4yKjP9sa2z/IiIj/5STlv+ZmJr/IiIi/318ff+QkJH/Jycn/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/zY2Nv+bmpz/eXl6/yAgIP+GhYf/d3Z4/xEREf8PDw//CgoK/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8xMTH/iomL/15eX/8HBwf/ExMT/wcHB/8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/BwcH/xUUFf8FBQX/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==" type=image/x-icon><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>
	/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* Avoid adding ID selector rules in this style sheet, since they could
 * inadvertently match elements in the article content. */

:root {
  --grey-90-a10: rgba(12, 12, 13, 0.1);
  --grey-90-a20: rgba(12, 12, 13, 0.2);
  --grey-90-a30: rgba(12, 12, 13, 0.3);
  --grey-90-a80: rgba(12, 12, 13, 0.8);
  --grey-30: #d7d7db;
  --blue-40: #45a1ff;
  --blue-40-a30: rgba(69, 161, 255, 0.3);
  --blue-60: #0060df;
  --body-padding: 64px;
  --font-size: 12;
  --content-width: 70em;
  --line-height: 1.6em;
}

body {
  --main-background: #fff;
  --main-foreground: #333;
  --font-color: #000000;
  --primary-color: #0B83FF;
  --toolbar-border: var(--grey-90-a20);
  --toolbar-transparent-border: transparent;
  --toolbar-box-shadow: var(--grey-90-a10);
  --toolbar-button-background: transparent;
  --toolbar-button-background-hover: var(--grey-90-a10);
  --toolbar-button-foreground-hover: var(--font-color);
  --toolbar-button-background-active: var(--grey-90-a20);
  --toolbar-button-foreground-active: var(--primary-color);
  --toolbar-button-border: transparent;
  --toolbar-button-border-hover: transparent;
  --toolbar-button-border-active: transparent;
  --tooltip-background: var(--grey-90-a80);
  --tooltip-foreground: white;
  --tooltip-border: transparent;
  --popup-background: white;
  --popup-border: rgba(0, 0, 0, 0.12);
  --opaque-popup-border: #e0e0e0;
  --popup-line: var(--grey-30);
  --popup-shadow: rgba(49, 49, 49, 0.3);
  --popup-button-background: #edecf0;
  --popup-button-background-hover: hsla(0,0%,70%,.4);
  --popup-button-foreground-hover: var(--font-color);
  --popup-button-background-active: hsla(240,5%,5%,.15);
  --selected-background: var(--blue-40-a30);
  --selected-border: var(--blue-40);
  --font-value-border: var(--grey-30);
  --icon-fill: #3b3b3c;
  --icon-disabled-fill: #8080807F;
  --link-foreground: var(--blue-60);
  --link-selected-foreground: #333;
  --visited-link-foreground: #b5007f;
  /* light colours */
}

body.sepia {
  --main-background: #f4ecd8;
  --main-foreground: #5b4636;
  --toolbar-border: #5b4636;
}

body.dark {
  --main-background: rgb(28, 27, 34);
  --main-foreground: #eee;
  --font-color: #fff;
  --toolbar-border: #4a4a4b;
  --toolbar-box-shadow: black;
  --toolbar-button-background-hover: var(--grey-90-a30);
  --toolbar-button-background-active: var(--grey-90-a80);
  --tooltip-background: black;
  --tooltip-foreground: white;
  --popup-background: rgb(66,65,77);
  --opaque-popup-border: #434146;
  --popup-line: rgb(82, 82, 94);
  --popup-button-background: #5c5c61;
  --popup-button-background-active: hsla(0,0%,70%,.6);
  --selected-background: #3E6D9A;
  --font-value-border: #656468;
  --icon-fill: #fff;
  --icon-disabled-fill: #ffffff66;
  --link-foreground: #45a1ff;
  --link-selected-foreground: #fff;
  --visited-link-foreground: #e675fd;
  /* dark colours */
}

body.hcm {
  --main-background: Canvas;
  --main-foreground: CanvasText;
  --font-color: CanvasText;
  --primary-color: SelectedItem;
  --toolbar-border: CanvasText;
   /* We need a true transparent but in HCM this would compute to an actual color,
      so select the page's background color instead: */
  --toolbar-transparent-border: Canvas;
  --toolbar-box-shadow: Canvas;
  --toolbar-button-background: ButtonFace;
  --toolbar-button-background-hover: ButtonText;
  --toolbar-button-foreground-hover: ButtonFace;
  --toolbar-button-background-active: SelectedItem;
  --toolbar-button-foreground-active: SelectedItemText;
  --toolbar-button-border: ButtonText;
  --toolbar-button-border-hover: ButtonText;
  --toolbar-button-border-active: ButtonText;
  --tooltip-background: Canvas;
  --tooltip-foreground: CanvasText;
  --tooltip-border: CanvasText;
  --popup-background: Canvas;
  --popup-border: CanvasText;
  --opaque-popup-border: CanvasText;
  --popup-line: CanvasText;
  --popup-button-background: ButtonFace;
  --popup-button-background-hover: ButtonText;
  --popup-button-foreground-hover: ButtonFace;
  --popup-button-background-active: ButtonText;
  --selected-background: Canvas;
  --selected-border: SelectedItem;
  --font-value-border: CanvasText;
  --icon-fill: ButtonText;
  --icon-disabled-fill: GrayText;
  --link-foreground: LinkText;
  --link-selected-foreground: ActiveText;
  --visited-link-foreground: VisitedText;
}

body {
  margin: 0;
  padding: var(--body-padding);
  background-color: var(--main-background);
  color: var(--main-foreground);
}

body.loaded {
  transition: color 0.4s, background-color 0.4s;
}

body.dark *::-moz-selection {
  background-color: var(--selected-background);
}

a::-moz-selection {
  color: var(--link-selected-foreground);
}

body.sans-serif,
body.sans-serif .remove-button {
  font-family: Helvetica, Arial, sans-serif;
}

body.serif,
body.serif .remove-button {
  font-family: Georgia, "Times New Roman", serif;
}

/* Override some controls and content styles based on color scheme */

body.light > .container > .header > .domain {
  border-bottom-color: #333333 !important;
}

body.sepia > .container > .header > .domain {
  border-bottom-color: #5b4636 !important;
}

body.dark > .container > .header > .domain {
  border-bottom-color: #eeeeee !important;
}

body.light blockquote {
  border-inline-start: 2px solid #333333 !important;
}

body.sepia blockquote {
  border-inline-start: 2px solid #5b4636 !important;
}

body.dark blockquote {
  border-inline-start: 2px solid #eeeeee !important;
}

.light-button {
  color: #333333;
  background-color: #ffffff;
}

.dark-button {
  color: #eeeeee;
  background-color: #1c1b22;
}

.sepia-button {
  color: #5b4636;
  background-color: #f4ecd8;
}

.auto-button {
  text-align: center;
}

@media (prefers-color-scheme: dark) {
  .auto-button {
    background-color: #1c1b22;
    color: #eeeeee;
  }
}

@media not (prefers-color-scheme: dark) {
  .auto-button {
    background-color: #ffffff;
    color: #333333;
  }
}

/* Loading/error message */

.reader-message {
  margin-top: 40px;
  display: none;
  text-align: center;
  width: 100%;
  font-size: 0.9em;
}

/* Detector element to see if we're at the top of the doc or not. */
.top-anchor {
  position: absolute;
  top: 0;
  width: 0;
  height: 5px;
  pointer-events: none;
}

/* Header */

.header {
  text-align: start;
  display: none;
}

.domain {
  font-size: 0.9em;
  line-height: 1.48em;
  padding-bottom: 4px;
  font-family: Helvetica, Arial, sans-serif;
  text-decoration: none;
  border-bottom: 1px solid;
  color: var(--link-foreground);
}

.header > h1 {
  font-size: 1.6em;
  line-height: 1.25em;
  width: 100%;
  margin: 30px 0;
  padding: 0;
}

.header > .credits {
  font-size: 0.9em;
  line-height: 1.48em;
  margin: 0 0 10px;
  padding: 0;
  font-style: italic;
}

.header > .meta-data {
  font-size: 0.65em;
  margin: 0 0 15px;
}

.reader-estimated-time {
  text-align: match-parent;
}

/* Controls toolbar */

.toolbar-container {
  position: sticky;
  z-index: 2;
  top: 32px;
  height: 0; /* take up no space, so body is at the top. */

  /* As a stick container, we're positioned relative to the body. Move us to
   * the edge of the viewport using margins, and take the width of
   * the body padding into account for calculating our width.
   */
  margin-inline-start: calc(-1 * var(--body-padding));
  width: max(var(--body-padding), calc((100% - var(--content-width)) / 2 + var(--body-padding)));
  font-size: var(--font-size); /* Needed to ensure 'em' units match, is reset for .reader-controls */
}

.toolbar {
  padding-block: 16px;
  border: 1px solid var(--toolbar-border);
  border-radius: 6px;
  box-shadow: 0 2px 8px var(--toolbar-box-shadow);

  width: 32px; /* basic width, without padding/border */

  /* padding should be 16px, except if there's not enough space for that, in
   * which case use half the available space for padding (=25% on each side).
   * The 34px here is the width + borders. We use a variable because we need
   * to know this size for the margin calculation.
   */
  --inline-padding: min(16px, calc(25% - 0.25 * 34px));
  padding-inline: var(--inline-padding);

  /* Keep a maximum of 96px distance to the body, but center once the margin
   * gets too small. We need to set the start margin, however...
   * To center, we'd want 50% of the container, but we'd subtract half our
   * own width (16px) and half the border (1px) and the inline padding.
   * When the other margin would be 96px, we want 100% - 96px - the complete
   * width of the actual toolbar (34px + 2 * padding)
   */
  margin-inline-start: max(calc(50% - 17px - var(--inline-padding)), calc(100% - 96px - 34px - 2 * var(--inline-padding)));

  font-family: Helvetica, Arial, sans-serif;
  list-style: none;
  user-select: none;
}

@media (prefers-reduced-motion: no-preference) {
  .toolbar {
    transition-property: border-color, box-shadow;
    transition-duration: 250ms;
  }

  .toolbar .toolbar-button {
    transition-property: opacity;
    transition-duration: 250ms;
  }

  .toolbar-container.scrolled .toolbar:not(:hover, :focus-within) {
    border-color: var(--toolbar-transparent-border);
    box-shadow: 0 2px 8px transparent;
  }

  .toolbar-container.scrolled .toolbar:not(:hover, :focus-within) .toolbar-button {
    opacity: 0.6;
  }

  .toolbar-container.transition-location {
    transition-duration: 250ms;
    transition-property: width;
  }
}

.toolbar-container.overlaps .toolbar-button {
  opacity: 0.1;
}

.dropdown-open .toolbar {
  border-color: var(--toolbar-transparent-border);
  box-shadow: 0 2px 8px transparent;
}

.reader-controls {
  /* We use 'em's above this node to get it to the right size. However,
   * the UI inside the toolbar should use a fixed, smaller size. */
  font-size: 11px;
}

button {
  -moz-context-properties: fill;
  color: var(--font-color);
  fill: var(--icon-fill);
}

button:disabled {
  fill: var(--icon-disabled-fill);
}

.toolbar button::-moz-focus-inner {
  border: 0;
}

.toolbar-button {
  position: relative;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--toolbar-button-border);
  border-radius: 4px;
  margin: 4px 0;
  background-color: var(--toolbar-button-background);
  background-size: 16px 16px;
  background-position: center;
  background-repeat: no-repeat;
}

.toolbar-button:hover,
.toolbar-button:focus-visible {
  background-color: var(--toolbar-button-background-hover);
  border-color: var(--toolbar-button-border-hover);
  fill: var(--toolbar-button-foreground-hover);
}

.open .toolbar-button,
.toolbar-button:hover:active {
  background-color: var(--toolbar-button-background-active);
  border-color: var(--toolbar-button-border-active);
  color: var(--toolbar-button-foreground-active);
  fill: var(--toolbar-button-foreground-active);
}

.hover-label {
  position: absolute;
  top: 4px;
  inset-inline-start: 36px;
  line-height: 16px;
  white-space: pre; /* make sure we don't wrap */
  background-color: var(--tooltip-background);
  color: var(--tooltip-foreground);
  padding: 4px 8px;
  border: 1px solid var(--tooltip-border);
  border-radius: 2px;
  visibility: hidden;
  pointer-events: none;
  /* Put above .dropdown .dropdown-popup, which has z-index: 1000. */
  z-index: 1001;
}

/* Show the hover tooltip on non-dropdown buttons. */
.toolbar-button:not(.dropdown-toggle):hover > .hover-label,
.toolbar-button:not(.dropdown-toggle):focus-visible > .hover-label,
/* Show the hover tooltip for dropdown buttons unless its dropdown is open. */
:not(.open) > li > .dropdown-toggle:hover > .hover-label,
:not(.open) > li > .dropdown-toggle:focus-visible > .hover-label {
  visibility: visible;
}

.dropdown {
  text-align: center;
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
}

.dropdown li {
  margin: 0;
  padding: 0;
}

/* Popup */

.dropdown .dropdown-popup {
  text-align: start;
  position: absolute;
  inset-inline-start: 40px;
  z-index: 1000;
  background-color: var(--popup-background);
  visibility: hidden;
  border-radius: 4px;
  border: 1px solid var(--popup-border);
  box-shadow: 0 0 10px 0 var(--popup-shadow);
  top: 0;
}

.open > .dropdown-popup {
  visibility: visible;
}

.dropdown-arrow {
  position: absolute;
  height: 24px;
  width: 16px;
  inset-inline-start: -16px;
  background-image: url("chrome://global/skin/reader/RM-Type-Controls-Arrow.svg");
  display: block;
  -moz-context-properties: fill, stroke;
  fill: var(--popup-background);
  stroke: var(--opaque-popup-border);
  pointer-events: none;
}

.dropdown-arrow:dir(rtl) {
  transform: scaleX(-1);
}

/* Align the style dropdown arrow (narrate does its own) */
.style-dropdown .dropdown-arrow {
  top: 7px;
}

/* Font style popup */

.radio-button {
  /* We visually hide these, but we keep them around so they can be focused
   * and changed by interacting with them via the label, or the keyboard, or
   * assistive technology.
   */
  opacity: 0;
  pointer-events: none;
  position: absolute;
}

.radiorow,
.buttonrow {
  display: flex;
  align-content: center;
  justify-content: center;
}

.content-width-value,
.font-size-value,
.line-height-value {
  box-sizing: border-box;
  width: 36px;
  height: 20px;
  line-height: 20px;
  display: flex;
  justify-content: center;
  align-content: center;
  margin: auto;
  border-radius: 10px;
  border: 1px solid var(--font-value-border);
  background-color: var(--popup-button-background);
}

.buttonrow > button {
  border: 0;
  height: 60px;
  width: 90px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
}

.buttonrow > button:enabled:hover,
.buttonrow > button:enabled:focus-visible {
  background-color: var(--popup-button-background-hover);
  color: var(--popup-button-foreground-hover);
  fill: var(--popup-button-foreground-hover);
}

.buttonrow > button:enabled:hover:active {
  background-color: var(--popup-button-background-active);
}

.radiorow:not(:last-child),
.buttonrow:not(:last-child) {
  border-bottom: 1px solid var(--popup-line);
}

body.hcm .buttonrow.line-height-buttons {
  /* On HCM the .color-scheme-buttons row is hidden, so remove the border from the row above it */
  border-bottom: none;
}

.radiorow > label {
  position: relative;
  box-sizing: border-box;
  border-radius: 2px;
  border: 2px solid var(--popup-border);
}

.radiorow > label[checked] {
  border-color: var(--selected-border);
}

/* For the hover style, we draw a line under the item by means of a
 * pseudo-element. Because these items are variable height, and
 * because their contents are variable height, position it absolutely,
 * and give it a width of 100% (the content width) + 4px for the 2 * 2px
 * border width.
 */
.radiorow > input[type=radio]:focus-visible + label::after,
.radiorow > label:hover::after {
  content: "";
  display: block;
  border-bottom: 2px solid var(--selected-border);
  width: calc(100% + 4px);
  position: absolute;
  /* to skip the 2 * 2px border + 2px spacing. */
  bottom: -6px;
  /* Match the start of the 2px border of the element: */
  inset-inline-start: -2px;
}

.font-type-buttons > label {
  height: 64px;
  width: 105px;
  /* Slightly more space between these items. */
  margin: 10px;
  /* Center the Sans-serif / Serif labels */
  text-align: center;
  background-size: 63px 39px;
  background-repeat: no-repeat;
  background-position: center 18px;
  background-color: var(--popup-button-background);
  fill: currentColor;
  -moz-context-properties: fill;
  /* This mostly matches baselines, but because of differences in font
   * baselines between serif and sans-serif, this isn't always enough. */
  line-height: 1;
  padding-top: 2px;
}

.font-type-buttons > label[checked] {
  background-color: var(--selected-background);
}

.sans-serif-button {
  font-family: Helvetica, Arial, sans-serif;
  background-image: url("chrome://global/skin/reader/RM-Sans-Serif.svg");
}

/* Tweak padding to match the baseline on mac */
:root[platform=macosx] .sans-serif-button {
  padding-top: 3px;
}

.serif-button {
  font-family: Georgia, "Times New Roman", serif;
  background-image: url("chrome://global/skin/reader/RM-Serif.svg");
}

body.hcm .color-scheme-buttons {
  /* Disallow selecting themes when HCM is on. */
  display: none;
}

.color-scheme-buttons > label {
  padding: 12px;
  height: 34px;
  font-size: 12px;
  /* Center the labels horizontally as well as vertically */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  /* We want 10px between items, but there's no margin collapsing in flexbox. */
  margin: 10px 5px;
}

.color-scheme-buttons > input:first-child + label {
  margin-inline-start: 10px;
}

.color-scheme-buttons > label:last-child {
  margin-inline-end: 10px;
}

/* Toolbar icons */

.close-button {
  background-image: url("chrome://global/skin/icons/close.svg");
}

.style-button {
  background-image: url("chrome://global/skin/reader/RM-Type-Controls-24x24.svg");
}

.minus-button {
  background-size: 18px 18px;
  background-image: url("chrome://global/skin/reader/RM-Minus-24x24.svg");
}

.plus-button {
  background-size: 18px 18px;
  background-image: url("chrome://global/skin/reader/RM-Plus-24x24.svg");
}

.content-width-minus-button {
  background-size: 42px 16px;
  background-image: url("chrome://global/skin/reader/RM-Content-Width-Minus-42x16.svg");
}

.content-width-plus-button {
  background-size: 44px 16px;
  background-image: url("chrome://global/skin/reader/RM-Content-Width-Plus-44x16.svg");
}

.line-height-minus-button {
  background-size: 34px 14px;
  background-image: url("chrome://global/skin/reader/RM-Line-Height-Minus-38x14.svg");
}

.line-height-plus-button {
  background-size: 34px 24px;
  background-image: url("chrome://global/skin/reader/RM-Line-Height-Plus-38x24.svg");
}

/* Mirror the line height buttons if the article is RTL. */
.reader-controls[articledir="rtl"] .line-height-minus-button,
.reader-controls[articledir="rtl"] .line-height-plus-button {
  transform: scaleX(-1);
}

@media print {
  .toolbar {
    display: none !important;
  }
}

/* Article content */

/* Note that any class names from the original article that we want to match on
 * must be added to CLASSES_TO_PRESERVE in ReaderMode.jsm, so that
 * Readability.js doesn't strip them out */

.container {
  margin: 0 auto;
  font-size: var(--font-size);
  max-width: var(--content-width);
  line-height: var(--line-height);
}

pre {
  font-family: inherit;
}

.moz-reader-content {
  display: none;
  font-size: 1em;
}

@media print {
  .moz-reader-content p,
  .moz-reader-content code,
  .moz-reader-content pre,
  .moz-reader-content blockquote,
  .moz-reader-content ul,
  .moz-reader-content ol,
  .moz-reader-content li,
  .moz-reader-content figure,
  .moz-reader-content .wp-caption {
    margin: 0 0 10px !important;
    padding: 0 !important;
  }
}

.moz-reader-content h1,
.moz-reader-content h2,
.moz-reader-content h3 {
  font-weight: bold;
}

.moz-reader-content h1 {
  font-size: 1.6em;
  line-height: 1.25em;
}

.moz-reader-content h2 {
  font-size: 1.2em;
  line-height: 1.51em;
}

.moz-reader-content h3 {
  font-size: 1em;
  line-height: 1.66em;
}

.moz-reader-content a:link {
  text-decoration: underline;
  font-weight: normal;
}

.moz-reader-content a:link,
.moz-reader-content a:link:hover,
.moz-reader-content a:link:active {
  color: var(--link-foreground);
}

.moz-reader-content a:visited {
  color: var(--visited-link-foreground);
}

.moz-reader-content * {
  max-width: 100%;
  height: auto;
}

.moz-reader-content p,
.moz-reader-content p,
.moz-reader-content code,
.moz-reader-content pre,
.moz-reader-content blockquote,
.moz-reader-content ul,
.moz-reader-content ol,
.moz-reader-content li,
.moz-reader-content figure,
.moz-reader-content .wp-caption {
  margin: -10px -10px 20px;
  padding: 10px;
  border-radius: 5px;
}

.moz-reader-content li {
  margin-bottom: 0;
}

.moz-reader-content li > ul,
.moz-reader-content li > ol {
  margin-bottom: -10px;
}

.moz-reader-content p > img:only-child,
.moz-reader-content p > a:only-child > img:only-child,
.moz-reader-content .wp-caption img,
.moz-reader-content figure img {
  display: block;
}

.moz-reader-content img[moz-reader-center] {
  margin-inline: auto;
}

.moz-reader-content .caption,
.moz-reader-content .wp-caption-text
.moz-reader-content figcaption {
  font-size: 0.9em;
  line-height: 1.48em;
  font-style: italic;
}

.moz-reader-content pre {
  white-space: pre-wrap;
}

.moz-reader-content blockquote {
  padding: 0;
  padding-inline-start: 16px;
}

.moz-reader-content ul,
.moz-reader-content ol {
  padding: 0;
}

.moz-reader-content ul {
  padding-inline-start: 30px;
  list-style: disc;
}

.moz-reader-content ol {
  padding-inline-start: 30px;
}

table,
th,
td {
  border: 1px solid currentColor;
  border-collapse: collapse;
  padding: 6px;
  vertical-align: top;
}

table {
  margin: 5px;
}

/* Visually hide (but don't display: none) screen reader elements */
.moz-reader-content .visually-hidden,
.moz-reader-content .visuallyhidden,
.moz-reader-content .sr-only {
  display: inline-block;
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  border-width: 0;
}

/* Hide elements with common "hidden" class names */
.moz-reader-content .hidden,
.moz-reader-content .invisible {
  display: none;
}

/* Enforce wordpress and similar emoji/smileys aren't sized to be full-width,
 * see bug 1399616 for context. */
.moz-reader-content img.wp-smiley,
.moz-reader-content img.emoji {
  display: inline-block;
  border-width: 0;
  /* height: auto is implied from '.moz-reader-content *' rule. */
  width: 1em;
  margin: 0 .07em;
  padding: 0;
}

.reader-show-element {
  display: initial;
}

/* Provide extra spacing for images that may be aided with accompanying element such as <figcaption> */
.moz-reader-block-img:not(:last-child) {
  margin-block-end: 12px;
}

.moz-reader-wide-table {
  overflow-x: auto;
  display: block;
}

pre code {
  background-color: var(--main-background);
  border: 1px solid var(--font-color);
  display: block;
  overflow: auto;
}</style><body class="moz-reader-content content-width6 reader-show-element sans-serif container line-height4 dark" style="display: block; padding: 24px;"><h1 class=reader-title>This Is a Philosopher on Drugs</h1><div id=readability-page-1 class=page><div data-testid=ArticlePageChunks class><div data-journey-hook=client-content data-testid=BodyWrapper><figure class><p class><span><picture></picture></span></p></figure><p class><span>Justin E.H.Smith<br>Wired April 2023</span><p class><span>There is something</span> strange in the disinterest philosophers show for experimentation with mind-altering drugs—or at least for talking about their experimentation publicly. At the margins of philosophical writing, we have Walter Benjamin’s record of his dabblings in hashish and Michel Foucault’s casual admission in interviews that he would rather be dropping acid in the Mojave Desert than sipping wine in Paris. Even further out we have philosophy-curious writers like Thomas de Quincey (also a biographer of Immanuel Kant) recounting his own experience of opium addiction. And then we have probabilities and speculation. The natural philosopher Johannes Kepler likely tried some fly agaric before writing his 1608 treatise of lunar astronomy, the <em>Somnium</em> (read it and you’ll see what I mean). The third-century Neoplatonist philosopher Plotinus might have availed himself of some herbal or fungal supplements to help him achieve his many out-of-body experiences, which he liked to call <em>henosis</em>, or “ecstatic union with the One.”<p>I’m probably missing a few notable cases. But still, for the most part, to admit to any intention to use chemical substances, whether found in nature or synthesized in laboratories, in the aim of changing one’s apprehension of reality, is to leave the guild of the philosophers behind, with all its constricting norms and shibboleths, and to join the company, over in the deep end of the pool of life, of sundry countercultural weirdos and deviants.<p>This shows, I think, just how conservative philosophy remains, in some respects, as an academic discipline. At a cultural moment when psychedelics are getting a second wind, and even someone as upstanding as Michael Pollan has moved from counseling us to eat our roughage to praising the benefits of microdosing, philosophers are conducting themselves as though it were still 1950, when we wore skinny ties to colloquia, got funding from the RAND Corporation to work on decision trees and other such narrow and straitlaced endeavors, and all knew that it is the unaltered and wakeful mind that has exclusive access to the forms and qualities of the external world.<p>But wait a minute. Even in the mid-20th century, perhaps especially in the mid-20th century, years before the postwar generation was turning on, tuning in, and dropping out en masse, perfectly sober grown-up philosophers understood full well that the reports our senses give us of the physical world hardly settle the matter of what reality in itself is like. The problem is ancient but was sharpened in the early work of Bertrand Russell and G. E. Moore, who together articulated a cluster of problems around the concept of “sense-data.”<p>As Russell would put the point in the 1940s, when we are looking at a table as we walk away from it, what we see shrinks continually; but the table does not shrink; therefore, what we see simply cannot be the table itself. What we see, rather, is only what is given to sense, and the full account will have to involve the physics of light and the physiology of the brain and of the organs of sense as much as it involves the properties, to the extent that these can be known, of any external object. But if we have to take account of what the perceiver brings to the instance of perception in order to make any sense at all of what perception is, then it would seem to follow that perception should also be of interest to philosophers when there is no external object at all—or at most a hallucination of one.<p>Of course, philosophers <em>are</em> interested in hallucination, even if they prefer to draw their examples from case studies of schizophrenia or Oliver Sacks–style pathologies, or from more mild varieties of optical illusion that happen even to the mentally sane (heat wave “oases,” straight sticks emerging from water as if bent). But they are generally interested in it only as a challenge, as an obstacle standing between them and what they would ultimately like to establish: that, namely, there is a real and all-important difference between the perception that is anchored in how the external world actually is and the perception that would seem to come from inside of us. There is a difference between waking and dreaming, in other words, and waking for them is incontestably the superior state to dwell in and the only one that is worthy of a philosopher. For philosophers seek the truth, which is something that can be furnished only to a mind not currently subject to the chimeras of psychosis, of dreaming, or of drugs.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>But again, the problem is ancient, which is a pretty reliable sign that it is also intractable. For all our efforts, we still are not one step closer to apprehending the things in themselves. It is not that science hasn’t progressed—of course it has—but rather that the problem is conceptual and not empirical. You can’t perceive the thing that lies behind what you are perceiving, since the instant you do perceive it, it no longer lies behind but is front and center. Given what appears to be this logically necessary stalemate between us and the world, it seems inevitable that alternative accounts of the fundamental nature of reality—alternative ontologies, as we say—should keep returning and drawing off at least some philosophers who get fed up with an external world that demands our loyalty yet refuses to show itself.<p>In at least some of these alternative ontologies, the visions that come to us unbidden, in the liminal states of insobriety, hypnagogia, or theurgic ecstasy, are not to be dismissed out of hand as obstacles to our apprehension of truth, but may in fact be vehicles of truth themselves. Here I am aware I’m pushing up against the limits of respectability dictated by the implicit norms of my discipline, but I’ve gone about as far as I was ever destined to go in the ranks of this guild, and I’ve got nothing, and no one, to be afraid of. So I’m just going to come right out and say it: I am a philosopher who has taken an interest, of late, in psychedelic experimentation, and I find that my experiments have significantly widened the range of accounts of the nature of reality that I am disposed to take seriously. If you think you are in an emotional state to handle it, and in a legal jurisdiction that permits it, and you think you might benefit from being jolted out of your long-held ontological commitments, then I would recommend that you try some psychotropic drugs as well.<p><span>I will not</span> exaggerate the benefits. I still have no clue what this brief crack of light I call “my life” really is, nor how I got here, nor where I’m headed. But I am significantly less cocky now, my cluelessness is more evident to me, a constant that accompanies me in each moment of the day. No one seems more pathetic to me, now, in their own cluelessness, than the self-styled “realists” who prejudicially and without any grounds go on supposing that they have a firm grasp of concepts like “nature,” “matter,” “being,” “thing,” “world,” “self,” that this grasp flows directly from their acceptance of the plain evidence of reason buttressed by empirical discovery, and that the question of how many kinds of being there are, and of the nature of these beings, is one that has been definitively settled over the past few centuries of naturalistic inquiry.<p>If this new reflection of mine appears too vast, consider the following scene from a time we conventionally call “the scientific revolution.” A missionary finds himself in what is then known as New France, though the truth is there remains next to nothing French about the place. He is living with the Hurons and trying to convince them of the urgency of converting to Christianity. On some days the group’s leader, a sharp and dignified old man, seems disposed to accept the offer; on others he wakes up from dreams that tell him Jesus Christ is a malevolent supernatural being who has sent another such being among his people to bring them to ruin. Each morning the missionary wonders whether the old man’s latest dream vision will spell the death of him. He recalls his earlier life in Europe and the new philosophy of René Descartes, who claims to be able to prove that our waking life is real, while our dreams are only a delusion. It dawns on him that his new hosts see things in more or less the opposite way.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper class><p>It dawns on him, further, that it is this opposite way, and not the new way of modern philosophy, that is more or less the default setting of all of humanity, while Descartes and the other moderns constitute a small minority of dissenters, who have worked their way, by great effort, into what is ultimately a rather counterintuitive picture of human life, one in which the great preponderance of what is running through our heads at all times, but especially in dreams and other ecstasies—all the dazzling parade of sights and sounds and spirits, specters, ancestors, anthropomorphic animals, theriomorphic divinities, theomorphic stones, countless other permutations I can’t even name, and infinite swarms of fleeting and fugacious beings—all get in the way of our efforts to orient ourselves in this life. The missionary begins to wonder whether he really knows any better how to live than the oneiromancers he has ostensibly come to enlighten. But he has little time to indulge this question, as he fears the old leader may wake up at any moment and pass a death sentence on him. He writes a letter to his Father Superior in France, begging for a transfer out of there and back among the people who know, or think they know, the difference between appearance and reality.<p class>Philosophers today, at least in the English-speaking world, almost all take for granted that the core Cartesian doctrines are theoretical nonstarters. Yet we all remain the children of Descartes, to the extent that we take for granted that the day is more disconcealing of truth than the night. We do catch some small glimpses of alternatives here and there, and from time to time over the past few hundred years a countertendency will emerge—the psychoanalysts’ concern to center the dream-life, the consciousness-expanding spirit of the 1960s counterculture. So it is with them that I throw in my lot. I am not a Freudian, nor a hippie, yet I believe, now more than ever, in part thanks to age and what I like to think of as an accrual of wisdom, in part thanks to psilocybin and muscimol, that our liminal states of consciousness may well be consciousness at its most veracious.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p class><span class>Alongside drug use,</span> another implicit prohibition of the guild of philosophers is that you really should not ask, in open and childlike terms, a question as general as “What is the meaning of life?” Yet it is just this question that came to press upon me over the past years, with an intensity I could not ignore.<p>When my grandparents died long ago, I was heartbroken of course, but they had been old, and I was young, and I couldn’t see what it all had to do with me. Things were different when my father died in 2016. With his disappearance, all of a sudden the basic conditions of my own existence hit me like a revelation. He had had (note that pluperfect) a good long life, but now it seemed so absurdly brief to me, as if this being had just popped into existence, instantly began babbling a few favorite stories over and over again like a talking doll, a few beloved half-truths and misremembered factoids, only to pop right back out again, leaving me agape and wondering: Holy shit, who <em>was</em> that? <em>What</em> was that?<p>Two years later my mother was diagnosed with the same common illness he had, with a name we hear every day and read about constantly in <em>The</em> <em>New York Times</em>’ “Well” section and other clickbait venues, but that I find myself unable even to say or write. Throughout this era of loss, I have been sharply attuned to the fact that I myself am no longer young and that my parents’ fate has everything to do with me. They are me, just not in every respect at the present moment. I am them, but on a slight delay, and I find myself concerned with not spending the rest of this brief flash clinging to half-truths of my own. I want to know what this is all about, or at least, if knowledge is not to be had, I want to arrive at some equanimity of soul, where this condition of ours should no longer appear so absurd, so unacceptable, and where the veil that occludes my access to the world at least is no longer covered over by an additional veil of tears.<p class>The sense of loss intensified with the beginning of the pandemic and the forced isolation it brought down on the world. I was drinking heavily at the time, as I had been for many years. By the time I finally stopped using alcohol for good, just over two years ago, there was no joy at all left in it, no celebration, as there was in my younger life of at least some imperfect stab at bon-vivantism. It was simply an addiction, and one that darkened the veil through which I am constrained to make sense of the world. So I quit it, at long last. But rather than feeling liberated and good about my healthy new start, it was only then that I fell into the deepest depression I have ever known, deeper than I ever could have imagined possible. I was suddenly cut off from the only means I had of comforting myself, and of charging up the world with at least a sort of counterfeit magic. Nothing I had valued in my earlier life, my idiotic careerism, my foolish vainglory whenever I got something published, had even the faintest trace of significance now. I could still conjure, from somewhere, a semblance of caring about my career and so on, but I truly did not care. I no longer even understood how it could be possible to care about such nothings as fill up a human life.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>When the lockdowns ended, I summoned my forces as best I could, crawled out of my hole, and began to make the trip as often as I was able from France to California in order to visit my mother. I had been vaguely aware of the recent legislative developments in certain US states surrounding the consumption and sale of cannabis, but it was only on a whim, in the middle of one of these visits, that I turned to Google to find the location of the dispensary nearest me. I had tried marijuana a few times in my earlier life, but it had had little effect on me, and in any case I considered it trashy and beneath me in all its cultural significations. But because, now, I no longer cared about any of the judgments I had made in my earlier life, positive or negative, I found that I really could not care less what the cultural position of cannabis was, and I was perfectly happy to show my ID and stand in line with all the chewed-up old army veterans, all the underemployed marginals, all the discarded Americans, my brothers and sisters, at a dispensary on the very seediest side of Sacramento, in a place no zoning law had ever touched. No, I find I’m not putting this plainly enough. I was <em>happier</em> there than I had ever been in any <em>cave à vins</em> in Paris, getting my ear talked off by some French wine merchant about terroir and bouquet and all these supposed properties of the drink that I, anyhow, was never able to detect. While I had never smoked a joint correctly in my younger days, I found that the new abundance of tinctures and oils and other alchemical refinements of the THC molecule were just what I needed to start to see the world, again, as some sort of meaningful whole.<p>Early in my new life as a late-blooming pothead, one thing that struck me was just what a crummy deal we in the West had been given, whereby all mind-altering substances had been prohibited and stigmatized, except for the one that has such negative medical and social consequences in its overuse as to be described in terms of disease, and that only ever alters consciousness downward, from the more to the less vivid. Alcohol might make us dance and chatter for a short time, but its technical classification as a “depressant” is surely the correct one. That wine is a central sacrament of Christianity, moreover, which in its early centuries seems to have had some interest in stamping out vestiges of pagan rituals relying on other, more intense varieties of mind alteration, seemed to me suddenly to be a rather serious argument against Christianity. It turned us into drunks, I reflected, and made us forgetful of the myriad other ways to make use of the fertile bounty of nature, particularly in its vegetal and fungal expressions, in order to see the world differently. Just a few edibles in, and I was already gravitating toward some kind of neopaganism.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>Cannabis, though generally not considered a “psychedelic,” nonetheless has something of the power this word was coined to capture: It makes the soul’s nature manifest to itself. Experiences vary, of course, but in my case it does several things at once. It induces a sort of bodily ecstasy; it presents a vivid spectacle of patterns and figures before the eyes (especially when they are closed); and most interestingly, I think, it dissolves what I ordinarily experience as the metaphysical unity of the self, with all its memories and its steady persistence through time, and makes it temporarily difficult to comprehend how I ordinarily go about my life as if the self I present myself as being were a real thing, or at least anything suitable for presentation.<p>There is a psychiatric phenomenon, one most of us would ordinarily hope to avoid, that is known as “depersonalization,” in which a person becomes convinced that their own life is not real, that the memories they have, even the body they have, is not theirs. In the depths of depression I came close to something resembling this condition, and it was terrifying. Stoned, by contrast, I have approached a state that is at least a cousin of depersonalization, yet I have found that it is mostly neither enjoyable nor terrifying, but simply revealing. We are, after all, quite likely <em>not</em> unified metaphysical subjects but rather complex assemblages of cells that facilitate an illusion of unity for as long as the assemblage endures. I will not affirm here any dogma, not even the naturalistic account of biological death to which I have just alluded, but will only say that there are several plausible accounts of what a self is on which we are indeed mistaken to suppose that it exists any more than, say, an image of a flamingo briefly manifested on a screen by colored pixels.<p>But goodness, here I am, still philosophizing like a stoned undergrad in a black-lighted dorm room. Ridiculous. Philosophers aren’t supposed to philosophize; they’re supposed to “do philosophy,” as the professional argot has it. The guild’s prohibition on drugs, perhaps, is linked to the fact that these lead us into a philosophizing of the most freewheeling and unhinged sort. But just as in the middle of a bad trip, it’s too late to pull back now. So let me get to the heart of the matter.<p><span>Beginning around 2018</span> I began writing essays, blog posts, polemics, and at least a few quasi-scholarly articles against the usurpation of classical models of the human being by metaphors drawn from the algorithmic technologies that surround us in the contemporary world. These efforts eventuated in <a href=https://www.wired.com/story/the-internet-is-not-as-new-as-you-think/>my 2022 book</a>, <em>The Internet Is Not What You Think It Is</em>. That same year I also published, in <em>Liberties</em>, a <a data-offer-url=https://libertiesjournal.com/articles/the-world-as-a-game/ data-event-click='{"element":"ExternalLink","outgoingURL":"https://libertiesjournal.com/articles/the-world-as-a-game/"}' href=https://libertiesjournal.com/articles/the-world-as-a-game/ rel="nofollow noopener" target=_blank>resolutely negative review</a> of a new book by my philosophy colleague David Chalmers, <em>Reality+: Virtual Worlds and the Problems of Philosophy</em>. Chalmers is generally sympathetic to what has come to be called the “<a href=https://www.wired.com/story/living-in-a-simulation/>simulation argument</a>,” the essence of which may be boiled down to the idea that what we think of as “its” have their ultimate causal ground in what are in fact “bits.” That is, what we take to be physical reality would better be conceived on the model of the virtual realities our machines have begun spinning out for us over the past few decades.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>My criticisms were in part grounded in my perspective as a specialist in the history of early modern natural philosophy. If you know anything about 17th-century science, you will know that people at the time were particularly impressed with the most cutting-edge technologies of the day, most notably clockworks. Some people, who styled themselves “mechanists,” were <em>so</em> impressed as to propose that the entire universe is best understood on the model of a horologium. And this is a pattern we see again and again in the history of science: The latest shiny gadget, whatever it may be, becomes such a centerpiece of human attention that we find ourselves unable to resist seeing it as a sort of epitome of reality as a whole.<p>But what a coincidence it would be, really, if the entire world turned out to share in the same nature as a technology that only came into existence within our own lifetimes! “The world is like a dream” seems a perfectly plausible proposition; “The world is like <em>Pac-Man</em>” seems a crude fetishism. A rigorously historicizing perspective on the simulation argument, in other words, quickly reveals it to be little more than a reflection of presentist myopia. I certainly have no qualms about the idea, defended by Chalmers, that the world is likely not at all as it appears to us. It’s just that when I go searching for alternatives to these appearances, it is not first to our recent technologies and to their cultural ramifications in gaming and other such domains that I turn.<p>Yet I also confess that my review of <em>Reality+</em> was at least to some extent unfair and overly harsh. In the end, what displeased me most about it were not its arguments but its tone and authorial voice. It is, to be blunt, a bit dorky, with its narrow range of cultural references to TV shows and pop songs about which I could not care less, and its obvious rootedness in online cultures of gaming and coding and geeking out that I have always shunned. But philosophers are supposed to see past such superficial differences. If I can admire a 10th-century Islamic theologian for his ingenious use of arguments drawn from Aristotle, I ought to be able to appreciate Dave Chalmers, who is, after all, my contemporary and my guildmate too.<p>But something else has begun to worry me about my earlier critique, beyond the impropriety of dwelling on these cultural differences, on the puerile conceit that Chalmers is a dork whereas I am cool, and it is that in recent times, my mind altered with the help of chemicals, the world has indeed come to appear “glitchy” to me, in just the way the simulationists expect that it should. Under the influence of drugs, the world really does seem to me more like a computer simulation than like a clock, or a loom, or a chariot wheel, or anything else we have come up with so far.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper class><p class><span class>Let me walk</span> that back a bit. The glitches are not exactly as the simulationists, at their most indulgent, like to imagine them. I see no cascades of glowing green 0s and 1s, nor clean <em>Tron</em>-like geometric lines extending off into the horizon, not to mention cats that seem to flicker like an old UHF channel as they walk by. The glitches are not something seen at all, but rather something that characterizes the mode of consciousness in which the totality of the world, and of memory and experience, is apprehended.<p>There are two such principal glitches. The first has to do with the experience of time. Under the influence of mushrooms, I have found, temporal duration can sometimes go the same way as I have described the self going under the influence of THC. Psilocybin is far more difficult to obtain through legal channels, unfortunately. A loophole in the Netherlands enables us to purchase the “truffle” part of the fungus; a handful of jurisdictions in California allow for psilocybin’s possession and use but not its sale. Meanwhile, muscimol, the active ingredient in the <em>Amanita muscaria</em>, or fly agaric fungus, so well attested in traditional religious practices throughout Eurasia, is legal in 49 states, and common, alongside cannabis, in the dispensaries of New York. While I have had some interesting experiences with psilocybin recently, it is muscimol, purchased in a rather louche head shop on the Lower East Side, surrounded by tricolored insignia of pan-African pride, images of neon aliens, the inescapable Bob Marley, that has best succeeded in bringing me out of my ordinary experience of the fixity of my personal identity, and of the temporal boundedness of my existence.<p>In his 1921 work, <em>The Analysis of Mind</em>, Russell reflected that there is no logical impossibility in the hypothesis that the world sprang into existence five minutes ago, “with a population that ‘remembered’ a wholly unreal past.” What to Russell’s lucid and unaltered mind seemed a logical possibility has seemed to me, on psychedelics, very nearly self-evident, except that the five minutes are reduced to the present instant, and it turns out that the real mistake, in our ordinary apprehension of our existence, is to conceive it as unfolding in time at all.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>What does this have to do with simulationism? Consider, first, that in an <a href=https://www.wired.com/tag/artificial-intelligence/>artificial system</a> that rises to the level of consciousness, such as future iterations of GPT or LaMDA might become, this consciousness could not be the result of any slow evolutionary process with antecedent stages of mere sensory perception. The consciousness of such a system would simply pop into existence at the moment the programmer behind it all hits Start. It would not be a hard-won consciousness, moving up through photoreception, olfaction, and other such physiological capacities that now serve in part to constitute our consciousness as biological entities (<em>if</em> that is what we are) but did not first emerge <em>for the sake of</em> consciousness. When we first started smelling the world around us, evolutionary theory tells us, there was as yet no plan for us to someday start cognizing that world. It all just worked out that way.<p>In an artificial system, by contrast, such as the AIs we are currently seeking to train up, it is cognition that comes first, and likely last. While the very idea that our AIs are approaching consciousness is controversial, of course (and I will not take sides on it here), we may at least agree that it is easier to make our machines cognize the world than to make them smell the world. That is, we are training the machines up to <em>know</em> things, and among the things they know it might turn out that they will be able to know <em>that</em> they know things. But the idea that there would be any accompanying bodily phenomenology to this knowledge is plainly nonsensical. What is being called “<a data-offer-url=https://arxiv.org/abs/2103.04918 data-event-click='{"element":"ExternalLink","outgoingURL":"https://arxiv.org/abs/2103.04918"}' href=https://arxiv.org/abs/2103.04918 rel="nofollow noopener" target=_blank>embodied AI</a>” indeed recognizes that machines will most likely learn to think like humans if they are outfitted with bodies and made to experience the world. But this experience of the world is typically conceived in terms of navigation in space, which can already be observed among the canine-shaped patrol robots ominously advertised by <a href=https://www.wired.com/tag/boston-dynamics/>Boston Dynamics</a>. If we want to call these assemblages of silicone and electricity “bodies,” they are so different from ours that we can really have no idea what bodily experience would be like for them.<p>Or can’t we? It seems to me we would likely have to suppose, at the very least, that for an AI there could be no experience of temporal duration as we ourselves know it. In particular, a conscious AI would not have any experience of deliberating in time, of “thinking through” a problem in the same way one “moves through” a tunnel. Rather, its change from one state to the next would be instantaneous, and for this reason the phenomenology of the “before” and “after” would be either nonexistent or so different from our own as to be indescribable in the same terms. And it is something like this phenomenology, I think, that the experience of psychedelic drugs can reveal to a person, where there is no time in the usual sense and memories are all just as much a part of the “now” as anything else.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>It is not, or not only, my limitations as a writer that compel me to admit the impossibility of fully conveying what this is like. After all, we’ve only got a few tenses to work with for our verbs, though a curious rendering in the King James translation of the Bible might give us some hint of what it would be like to have an “eternal tense”: “Before Abraham <em>was</em>,” Christ says in the Gospel of John, “I <em>am</em>.” This is not a pluperfect, as one might ordinarily expect, where Christ claims simply that he already “had been” further back in the past than another personage. Rather, it is a shift to what superficially looks like the present tense, as if to suggest that, in his case, past, present, and future simply don’t apply. I have not checked the Greek, which alone would settle the matter of what this verse actually means, and I am not here to wade into any abstruse Christology, but I do want to suggest that that “am” captures something of the experience of at least some mind-altering substances.<p><span>The second “glitch”</span> has to do with one’s perception, on mind-altering chemicals, of what we might call a vastly expanded social ontology, of the consciousness of a community of beings that extends far beyond the human and perhaps beyond the corporeal. The experience of such a social ontology, it seems to me, is just what you might expect of an artificial consciousness that is trained up, as our current rudimentary AIs are being trained, in the primary aim not of navigation of an external world but rather of prediction based on a sharp attunement to the patterns that play out in other people’s, or other beings’, minds.<p>Shortly before I began experimenting with drugs, I found myself spontaneously, and quite surprisingly, attuned to a much more densely populated world of other minds, or of fellow beings in the full and proper sense, than we are ordinarily expected to recognize. Long ago my grandfather built a wooden deck in front of our little vacation house on Lake Almanor in the northeast of California. There was a baby pine shooting up underneath it, and he could not bring himself to cut the sapling off from its source of light and life. So he constructed the deck with a square opening through which it could continue to grow. On my first visit there after the lockdowns ended, I saw that proud tree reaching up into the sky, now about as wide in diameter as a basketball. The tree was in its forties now, almost as old as I was, and it suddenly struck me that I had passed most of my life with this tree, yet I had neglected to think about it, to hold it in my heart and thoughts, at nearly every moment of all those years. “I’m sorry I left you and forgot you,” I said in my mind. “I am <em>so</em>, <em>so</em> sorry.” It seemed to me now that the tree was my adoptive sibling, my blood brother (though I had never pricked myself on it), and in that state of mind any argument to the effect that it is “just a tree” would have been incomprehensible. You might as well have resorted to such locutions as “just a human,” “just an ocean,” “just an angel,” “just the world.” I was not on any drugs at that moment (other than antidepressants, which as far as I can tell have never done shit for me), but it gave me a brief glimpse of what I would subsequently be able to reexperience with chemical assistance.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper><p>Research on fetal mice has shown fairly conclusively that the development in the mammalian brain of a capacity to navigate obstacle-filled space develops quite separately from any cognition of social reality. Mice get ready to move through the world by dreaming about that world before they are even born. It’s hard to say what a mouse’s experience of other minds is like, but at least in human beings it seems clear that our cognition of the bare external world, of everything that goes by the pronoun “it,” is quite independent from our second-person experience, of all that is covered by the pronoun “thou.”<p>Descartes, curiously, neglected to reestablish other minds after he had razed all of his beliefs through the method of radical doubt in his <em>Meditations</em> of 1641. But the problem of second-person experience would return to philosophy with a vengeance a few centuries later under the name “phenomenology,” in which the starting point of all theoretical reflection is that being in the presence of another being, with an interiority like ours, is fundamentally different from being in the presence of, say, a brick wall. Martin Heidegger would articulate this difference in terms of <em>Mitsein</em>, or “being-with.” What are the entities in our field of experience that we are able to “be with”? Most of the time I find that I can be with cows, that to stand near a cow is to “vibe” with it. Being with a tree is an experience that is harder to come by. But one thing psychedelics can help illuminate is the extent to which the limits of Mitsein are not so much a reflection of the intrinsic properties of various external entities as they are, simply, of our attunement. When we change our tuning, even the brick wall can seem to have been dismissed too hastily.<p>If social ontology develops independently of the cognitive capacities that enable us to navigate the external world, and if we are able under some circumstances to encompass potentially <em>everything</em> within our social ontology, then we might begin to wonder about the viability of our distinction between the “its” and the “thous,” between the third and second person. On mushrooms, there is a strong perception of the mutual constitution of mind-like beings by one another, so that my understanding of what I am becomes inseparable from all sorts of entities I am usually able to bracket as distinct from me—trees, clouds, mice, and so on—and these entities all, in turn, appear to be constitutive of one another.<p class>There is a very succinct naturalistic account of why the world comes to appear to us like this under certain circumstances: It appears this way because this is how it in fact is. I would be nothing without all the clouds and trees and so on; and my eventual death, in this light, might best be understood as the end of a long campaign of stubborn resistance to this obvious fact—not the loss of anything with any real independent existence but only an anomaly within an order of existence that strives ever to even things back out.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper class><p class>This naturalistic account, however, rides alongside an equally compelling “virtualistic” account of what is happening. If the world were to turn out to be “virtual,” and the virtual consciousnesses within it had been designed with the aim of modeling and predicting one another’s intentions, just as AI researchers say their machines are designed to do, then it should not be at all surprising to find ourselves, sometimes, in a state of mind where other minds appear wholly to exhaust what is out there in reality. In other words, one way of thinking about a virtual world is as a world entirely constituted by other minds. And this is indeed how the world comes across to us, at moments, when we are thinking about it with chemically enhanced perception.<p class><span class>But are any</span> of these lucubrations to be taken at all seriously? Or do they just describe how the world appears to one sorry fellow who’s got a “brain on drugs”? (Readers of a certain age will at this point picture an egg in a frying pan.) Well yes, of course it’s a brain on drugs, but this just returns us to the original problem: Your brain is <em>always</em> on drugs. That is, there is always a neurochemical correlate to any of your conscious perceptions whatsoever. You might be tempted to say that supplementing gets in the way of correct perception, and that the only reliable way of apprehending the world as it is must depend only on the default setting of the mind, with no extras. But again, even this setting delivers us delirious hallucinations for about eight hours out of each 24.<p>Moreover, it is hard to conceive of any valid argument against supplementation. The substances are out there in the world, just like the food we eat is out there—and if we did not eat it, very soon we would start to hallucinate, and eventually we would cease to have any conscious perceptions at all. (Indeed in the history of ecstatic practices, fasting is perhaps as common as drug-taking as a means of getting out of one’s ordinary range of conscious experiences.) The fact that we <em>have</em> to eat some sort of nutritious organic matter or other, while consuming psychedelic plants or fungi is strictly optional, is certainly relevant to the <em>moral</em> regulation of drug consumption, but it is hard to see how it is relevant to any <em>epistemological</em> determinations we might make about the ability of a mind to deliver knowledge of the world as it is. The undrugged mind may be more reliable in certain respects, since it is less likely to lead you to try to fly off your high-rise balcony, and it is better able to help you stay focused on present dangers and tasks necessary for survival. But this in no way means that the representations it gives you of the world are <em>truer</em>.</p></div><div data-journey-hook=client-content data-testid=BodyWrapper class><p>My undrugged mind, to borrow a witticism from J. L. Austin, delivers to me a world of “medium-sized dry goods” and little else. My drugged mind delivers to me spirits or djinni or angels or I don’t know what to call them. It presents to me trees that are brothers and clouds that are old friends and cracks in the walls that spell out warm messages from solicitous invisible beings and infinite swarms of lives, all swirling and pulsating around me. Which is correct? I honestly don’t know anymore. My colleagues will tell me they know, but I don’t think they do either.<p><span>just as i</span> was able to re-find my fraternity with the pine tree unaided by psychedelics, so too can a person work their way unaided to a point of view on the world in which it is teeming with infinite other points of view. This is, broadly, the philosophical view of my greatest intellectual hero, the 17th-century philosopher Gottfried Wilhelm Leibniz (who was, among other things, a pioneer of computer science). Almost certainly too much of a square ever to have tried any of the fungal supplements that abound in the landscapes of northern Germany, Leibniz nonetheless was able to arrive at the conclusion that the only meaningful sense of the verb “to be,” as he put it, is “to have something analogous to the ‘I.’” That is, there is no world but the community of subjects, some of them human but most of them something else entirely.<p>Leibniz was not, to say the least, a deviant weirdo. As for me, it is only at the moment I decided to take the risk of falling in with the deviant weirdos, of moving with the wrong crowd and losing my place in the guild of philosophers, that I came to believe he is probably right about things. A true genius, he seems to have got there unaided. But we all do the best we can, each according to our capacities.<p class>I am likely fortunate to live, most of the time, in a jurisdiction where none of the relevant substances are permitted by law, and so to be able to indulge my curiosity only punctually. There are many experiences I have not yet had—of DMT, for example, which I am told is the most potent of all in showing us the variety of species of beings that ordinarily remain hidden. (If you are a clinical researcher in such matters and would like a volunteer for your experiments, hit me up.)<div data-testid=NewsletterSubscribeFormWrapper class></div><p class>In any case, I suspect I have already found what I was looking for: some new knowledge, and at least a bit of equanimity. While I remain as uncertain as ever about the ultimate structure of the world, I also have new inclinations, and new sympathies, toward accounts of it that had previously struck me as altogether off the table. That widening is itself a sort of newfound knowledge, even if it contains no new certainties. As to equanimity, there really is nothing like a sharp experience of the illusoriness of time to make a person less anguished by the brevity and apparent senselessness of what we experience as our temporal sojourn. And there really is no more comforting feeling than to arrive at an awareness of the pervasive and dense presence of other beings like oneself—or at least to arrive in a state that seems to attest to the existence of such beings.<p class>The world is not what it seems—that’s for sure. Even if any positive determinations about how it actually is would automatically become new varieties of mere seeming, it is good and edifying to explore the alternatives to our standard account. The great mistake of the psychedelic gurus of old was to mistake the mode of perception that drugs afforded them for a sort of revelation, which is really just to trade one dogmatism, that of common-sense “realism,” for another.<p class>I do not know what the world is, nor what is “keeping the stars apart,” to borrow an evocative line from E. E. Cummings. But mind-altering substances have helped me, at a fairly desperate point in my life, to dwell in that uncertainty with greater ease, to “own it,” as they say, and no longer to feel so dreadfully apart from the stars.<hr><p class><em class>This article appears in the April 2023 issue.</em> <a href="https://subscribe.wired.com/subscribe/splits/wired/WIR_Edit_Hardcoded?source=ArticleEnd_CMlink"></a><em>.</em></p></div></div></div><style>.single-file-highlight-yellow, .single-file-highlight-yellow-mode ::selection { background-color: #ffff7c !important; color: black !important; } .single-file-highlight-pink, .single-file-highlight-pink-mode ::selection { background-color: #ffbbb6 !important; color: black !important; } .single-file-highlight-blue, .single-file-highlight-blue-mode ::selection { background-color: #95d0ff !important; color: black !important; } .single-file-highlight-green, .single-file-highlight-green-mode ::selection { background-color: #93ef8d !important; color: black !important; } span.single-file-highlight-yellow, span.single-file-highlight-pink, span.single-file-highlight-blue, span.single-file-highlight-green { display: inline !important; } .single-file-highlight-hidden { background-color: inherit !important; color: inherit !important; } .single-file-mask { all: initial; display: contents !important; } .single-file-mask.single-file-page-mask { opacity: .99 !important; } single-file-note { all: initial !important; display: contents !important; } .single-file-cut-hover, .single-file-cut-outer-hover, .single-file-cut-selected, .single-file-cut-outer-selected { transition: outline-width 125ms !important; outline-offset: -4px !important; outline-width: 4px !important; } .single-file-cut-hover, .single-file-cut-outer-hover { outline-style: dotted !important; } .single-file-cut-selected, .single-file-cut-outer-selected { outline-style: dashed !important; } .single-file-cut-hover, .single-file-cut-selected { outline-color: red !important; } .single-file-cut-outer-hover, .single-file-cut-outer-selected { outline-color: green !important; } .single-file-cut-mode, .single-file-cut-mode * { pointer-events: auto !important; touch-action: none !important; } .single-file-cut-hover, .single-file-cut-outer-hover, .single-file-remove-highlights-mode .single-file-highlight:hover { cursor: crosshair !important; } .single-file-removed { display: none !important; float: none !important; position: static !important; visibility: collapse !important; } a[href], img { -webkit-touch-callout: none; }</style><script data-template-shadow-root>(() => { document.currentScript.remove(); const processNode = node => { node.querySelectorAll("template[shadowroot]").forEach(element=>{ let shadowRoot = getShadowRoot(element.parentElement); if (!shadowRoot) { try { shadowRoot = element.parentElement.attachShadow({mode:element.getAttribute("shadowroot")}); shadowRoot.innerHTML = element.innerHTML; element.remove(); } catch (error) {} if (shadowRoot) { processNode(shadowRoot); } } }) }; const FORBIDDEN_TAG_NAMES = ["a","area","audio","base","br","col","command","embed","hr","img","iframe","input","keygen","link","meta","param","source","track","video","wbr"]; const NOTE_TAGNAME = "single-file-note"; const NOTE_CLASS = "note"; const NOTE_ANCHORED_CLASS = "note-anchored"; const NOTE_SELECTED_CLASS = "note-selected"; const NOTE_MOVING_CLASS = "note-moving"; const NOTE_MASK_MOVING_CLASS = "note-mask-moving"; const MASK_CLASS = "single-file-mask"; const HIGHLIGHT_CLASS = "single-file-highlight"; const NOTES_WEB_STYLESHEET = ".note { all: initial; display: flex; flex-direction: column; height: 150px; width: 150px; position: absolute; top: 10px; left: 10px; border: 1px solid rgb(191, 191, 191); z-index: 2147483646; box-shadow: 3px 3px 3px rgba(33, 33, 33, .7); min-height: 100px; min-width: 100px; } .note-selected { z-index: 2147483647; } .note-hidden { display: none; } .note-collapsed { min-height: 30px; max-height: 30px; overflow: hidden; } .note blockquote { all: initial; padding: 1px; height: 100%; } .note textarea { all: initial; white-space: break-spaces; font-family: Arial, Helvetica, sans-serif; font-size: 14px; height: 100%; width: 100%; padding: 2px; border: 1px solid transparent; resize: none; color: black; } .note textarea:focus { border: 1px dotted rgb(160, 160, 160); } .note header { all: initial; min-height: 30px; cursor: grab; user-select: none; } .note .note-remove { all: initial; position: absolute; right: 0px; top: 2px; padding: 5px; opacity: .5; cursor: pointer; user-select: none; width: 16px; height: 16px; } .note .note-anchor { all: initial; position: absolute; left: 0px; top: 2px; padding: 5px; opacity: .25; cursor: pointer; width: 16px; height: 16px; } .note .note-resize { all: initial; position: absolute; bottom: -5px; right: -5px; height: 15px; width: 15px; cursor: nwse-resize; user-select: none; } .note .note-remove:hover { opacity: 1; } .note .note-anchor:hover { opacity: .5; } .note-anchored .note-anchor { opacity: .5; } .note-anchored .note-anchor:hover { opacity: 1; } .note-moving { opacity: .75; box-shadow: 6px 6px 3px rgba(33, 33, 33, .7); } .note-moving * { cursor: grabbing; } .note-yellow header { background-color: #f5f545; } .note-yellow blockquote { background-color: #ffff7c; } .note-pink header { background-color: #ffa59f; } .note-pink blockquote { background-color: #ffbbb6; } .note-blue header { background-color: #84c8ff; } .note-blue blockquote { background-color: #95d0ff; } .note-green header { background-color: #93ef8d; } .note-green blockquote { background-color: #9cff95; }"; const MASK_WEB_STYLESHEET = ".note-mask { all: initial; position: fixed; z-index: 2147483645; pointer-events: none; background-color: transparent; transition: background-color 125ms; } .note-mask-moving.note-yellow { background-color: rgba(255, 255, 124, .3); } .note-mask-moving.note-pink { background-color: rgba(255, 187, 182, .3); } .note-mask-moving.note-blue { background-color: rgba(149, 208, 255, .3); } .note-mask-moving.note-green { background-color: rgba(156, 255, 149, .3); } .page-mask { all: initial; position: fixed; top: 0; left: 0; width: 0; height: 0; z-index: 2147483646; } .page-mask-active { width: 100vw; height: 100vh; }"; const NOTE_HEADER_HEIGHT = 25; const PAGE_MASK_ACTIVE_CLASS = "page-mask-active"; const REMOVED_CONTENT_CLASS = "single-file-removed"; const reflowNotes = function reflowNotes() { document.querySelectorAll(NOTE_TAGNAME).forEach(containerElement => { const noteElement = containerElement.shadowRoot.querySelector("." + NOTE_CLASS); const noteBoundingRect = noteElement.getBoundingClientRect(); const anchorElement = getAnchorElement(containerElement); const anchorBoundingRect = anchorElement.getBoundingClientRect(); const maxX = anchorBoundingRect.x + Math.max(0, anchorBoundingRect.width - noteBoundingRect.width); const minX = anchorBoundingRect.x; const maxY = anchorBoundingRect.y + Math.max(0, anchorBoundingRect.height - NOTE_HEADER_HEIGHT); const minY = anchorBoundingRect.y; let left = parseInt(noteElement.style.getPropertyValue("left")); let top = parseInt(noteElement.style.getPropertyValue("top")); if (noteBoundingRect.x > maxX) { left -= noteBoundingRect.x - maxX; } if (noteBoundingRect.x < minX) { left += minX - noteBoundingRect.x; } if (noteBoundingRect.y > maxY) { top -= noteBoundingRect.y - maxY; } if (noteBoundingRect.y < minY) { top += minY - noteBoundingRect.y; } noteElement.style.setProperty("position", "absolute"); noteElement.style.setProperty("left", left + "px"); noteElement.style.setProperty("top", top + "px"); }); }; const addNoteRef = function addNoteRef(anchorElement, noteId) { const noteRefs = getNoteRefs(anchorElement); noteRefs.push(noteId); setNoteRefs(anchorElement, noteRefs); }; const deleteNoteRef = function deleteNoteRef(containerElement, noteId) { const anchorElement = getAnchorElement(containerElement); const noteRefs = getNoteRefs(anchorElement).filter(noteRefs => noteRefs != noteId); if (noteRefs.length) { setNoteRefs(anchorElement, noteRefs); } else { delete anchorElement.dataset.singleFileNoteRefs; } }; const getNoteRefs = function getNoteRefs(anchorElement) { return anchorElement.dataset.singleFileNoteRefs ? anchorElement.dataset.singleFileNoteRefs.split(" ") : []; }; const setNoteRefs = function setNoteRefs(anchorElement, noteRefs) { anchorElement.dataset.singleFileNoteRefs = noteRefs.join(" "); }; const getAnchorElement = function getAnchorElement(containerElement) { return document.querySelector("[data-single-file-note-refs~=\"" + containerElement.dataset.noteId + "\"]") || document.documentElement; }; const getMaskElement = function getMaskElement(className, containerClassName) { let maskElement = document.documentElement.querySelector("." + className); if (!maskElement) { maskElement = document.createElement("div"); const maskContainerElement = document.createElement("div"); if (containerClassName) { maskContainerElement.classList.add(containerClassName); } maskContainerElement.classList.add(MASK_CLASS); const firstNote = document.querySelector(NOTE_TAGNAME); if (firstNote && firstNote.parentElement == document.documentElement) { document.documentElement.insertBefore(maskContainerElement, firstNote); } else { document.documentElement.appendChild(maskContainerElement); } maskElement.classList.add(className); const maskShadow = maskContainerElement.attachShadow({ mode: "open" }); maskShadow.appendChild(getStyleElement(MASK_WEB_STYLESHEET)); maskShadow.appendChild(maskElement); return maskElement; } }; const getStyleElement = function getStyleElement(stylesheet) { const linkElement = document.createElement("style"); linkElement.textContent = stylesheet; return linkElement; }; const attachNoteListeners = function attachNoteListeners(containerElement, editable = false) { const SELECT_PX_THRESHOLD = 4; const COLLAPSING_NOTE_DELAY = 750; const noteShadow = containerElement.shadowRoot; const noteElement = noteShadow.childNodes[1]; const headerElement = noteShadow.querySelector("header"); const mainElement = noteShadow.querySelector("textarea"); const noteId = containerElement.dataset.noteId; const resizeElement = noteShadow.querySelector(".note-resize"); const anchorIconElement = noteShadow.querySelector(".note-anchor"); const removeNoteElement = noteShadow.querySelector(".note-remove"); mainElement.readOnly = !editable; if (!editable) { anchorIconElement.style.setProperty("display", "none", "important"); } else { anchorIconElement.style.removeProperty("display"); } headerElement.ontouchstart = headerElement.onmousedown = event => { if (event.target == headerElement) { collapseNoteTimeout = setTimeout(() => { noteElement.classList.toggle("note-collapsed"); hideMaskNote(); }, COLLAPSING_NOTE_DELAY); event.preventDefault(); const position = getPosition(event); const clientX = position.clientX; const clientY = position.clientY; const boundingRect = noteElement.getBoundingClientRect(); const deltaX = clientX - boundingRect.left; const deltaY = clientY - boundingRect.top; maskPageElement.classList.add(PAGE_MASK_ACTIVE_CLASS); document.documentElement.style.setProperty("user-select", "none", "important"); anchorElement = getAnchorElement(containerElement); displayMaskNote(); selectNote(noteElement); moveNote(event, deltaX, deltaY); movingNoteMode = { event, deltaX, deltaY }; document.documentElement.ontouchmove = document.documentElement.onmousemove = event => { clearTimeout(collapseNoteTimeout); if (!movingNoteMode) { movingNoteMode = { deltaX, deltaY }; } movingNoteMode.event = event; moveNote(event, deltaX, deltaY); }; } }; resizeElement.ontouchstart = resizeElement.onmousedown = event => { event.preventDefault(); resizingNoteMode = true; selectNote(noteElement); maskPageElement.classList.add(PAGE_MASK_ACTIVE_CLASS); document.documentElement.style.setProperty("user-select", "none", "important"); document.documentElement.ontouchmove = document.documentElement.onmousemove = event => { event.preventDefault(); const { clientX, clientY } = getPosition(event); const boundingRectNote = noteElement.getBoundingClientRect(); noteElement.style.width = clientX - boundingRectNote.left + "px"; noteElement.style.height = clientY - boundingRectNote.top + "px"; }; }; anchorIconElement.ontouchend = anchorIconElement.onclick = event => { event.preventDefault(); noteElement.classList.toggle(NOTE_ANCHORED_CLASS); if (!noteElement.classList.contains(NOTE_ANCHORED_CLASS)) { deleteNoteRef(containerElement, noteId); addNoteRef(document.documentElement, noteId); } onUpdate(false); }; removeNoteElement.ontouchend = removeNoteElement.onclick = event => { event.preventDefault(); deleteNoteRef(containerElement, noteId); containerElement.remove(); }; noteElement.onmousedown = () => { selectNote(noteElement); }; function moveNote(event, deltaX, deltaY) { event.preventDefault(); const { clientX, clientY } = getPosition(event); noteElement.classList.add(NOTE_MOVING_CLASS); if (editable) { if (noteElement.classList.contains(NOTE_ANCHORED_CLASS)) { deleteNoteRef(containerElement, noteId); anchorElement = getTarget(clientX, clientY) || document.documentElement; addNoteRef(anchorElement, noteId); } else { anchorElement = document.documentElement; } } document.documentElement.insertBefore(containerElement, maskPageElement.getRootNode().host); noteElement.style.setProperty("left", (clientX - deltaX) + "px"); noteElement.style.setProperty("top", (clientY - deltaY) + "px"); noteElement.style.setProperty("position", "fixed"); displayMaskNote(); } function displayMaskNote() { if (anchorElement == document.documentElement || anchorElement == document.documentElement) { hideMaskNote(); } else { const boundingRectAnchor = anchorElement.getBoundingClientRect(); maskNoteElement.classList.add(NOTE_MASK_MOVING_CLASS); if (selectedNote) { maskNoteElement.classList.add(selectedNote.dataset.color); } maskNoteElement.style.setProperty("top", (boundingRectAnchor.y - 3) + "px"); maskNoteElement.style.setProperty("left", (boundingRectAnchor.x - 3) + "px"); maskNoteElement.style.setProperty("width", (boundingRectAnchor.width + 3) + "px"); maskNoteElement.style.setProperty("height", (boundingRectAnchor.height + 3) + "px"); } } function hideMaskNote() { maskNoteElement.classList.remove(NOTE_MASK_MOVING_CLASS); if (selectedNote) { maskNoteElement.classList.remove(selectedNote.dataset.color); } } function selectNote(noteElement) { if (selectedNote) { selectedNote.classList.remove(NOTE_SELECTED_CLASS); maskNoteElement.classList.remove(selectedNote.dataset.color); } noteElement.classList.add(NOTE_SELECTED_CLASS); noteElement.classList.add(noteElement.dataset.color); selectedNote = noteElement; } function getTarget(clientX, clientY) { const targets = Array.from(document.elementsFromPoint(clientX, clientY)).filter(element => element.matches("html *:not(" + NOTE_TAGNAME + "):not(." + MASK_CLASS + ")")); if (!targets.includes(document.documentElement)) { targets.push(document.documentElement); } let newTarget, target = targets[0], boundingRect = target.getBoundingClientRect(); newTarget = determineTargetElement("floor", target, clientX - boundingRect.left, getMatchedParents(target, "left")); if (newTarget == target) { newTarget = determineTargetElement("ceil", target, boundingRect.left + boundingRect.width - clientX, getMatchedParents(target, "right")); } if (newTarget == target) { newTarget = determineTargetElement("floor", target, clientY - boundingRect.top, getMatchedParents(target, "top")); } if (newTarget == target) { newTarget = determineTargetElement("ceil", target, boundingRect.top + boundingRect.height - clientY, getMatchedParents(target, "bottom")); } target = newTarget; while (boundingRect = target && target.getBoundingClientRect(), boundingRect && boundingRect.width <= SELECT_PX_THRESHOLD && boundingRect.height <= SELECT_PX_THRESHOLD) { target = target.parentElement; } return target; } function getMatchedParents(target, property) { let element = target, matchedParent, parents = []; do { const boundingRect = element.getBoundingClientRect(); if (element.parentElement && !element.parentElement.tagName.toLowerCase() != NOTE_TAGNAME && !element.classList.contains(MASK_CLASS)) { const parentBoundingRect = element.parentElement.getBoundingClientRect(); matchedParent = Math.abs(parentBoundingRect[property] - boundingRect[property]) <= SELECT_PX_THRESHOLD; if (matchedParent) { if (element.parentElement.clientWidth > SELECT_PX_THRESHOLD && element.parentElement.clientHeight > SELECT_PX_THRESHOLD && ((element.parentElement.clientWidth - element.clientWidth > SELECT_PX_THRESHOLD) || (element.parentElement.clientHeight - element.clientHeight > SELECT_PX_THRESHOLD))) { parents.push(element.parentElement); } element = element.parentElement; } } else { matchedParent = false; } } while (matchedParent && element); return parents; } function determineTargetElement(roundingMethod, target, widthDistance, parents) { if (Math[roundingMethod](widthDistance / SELECT_PX_THRESHOLD) <= parents.length) { target = parents[parents.length - Math[roundingMethod](widthDistance / SELECT_PX_THRESHOLD) - 1]; } return target; } }; const anchorNote = function anchorNote(event, noteElement, deltaX, deltaY) { event.preventDefault(); const { clientX, clientY } = getPosition(event); document.documentElement.style.removeProperty("user-select"); noteElement.classList.remove(NOTE_MOVING_CLASS); maskNoteElement.classList.remove(NOTE_MASK_MOVING_CLASS); maskPageElement.classList.remove(PAGE_MASK_ACTIVE_CLASS); maskNoteElement.classList.remove(noteElement.dataset.color); const headerElement = noteElement.querySelector("header"); headerElement.ontouchmove = document.documentElement.onmousemove = null; let currentElement = anchorElement; let positionedElement; while (currentElement.parentElement && !positionedElement) { if (!FORBIDDEN_TAG_NAMES.includes(currentElement.tagName.toLowerCase())) { const currentElementStyle = getComputedStyle(currentElement); if (currentElementStyle.position != "static") { positionedElement = currentElement; } } currentElement = currentElement.parentElement; } if (!positionedElement) { positionedElement = document.documentElement; } const containerElement = noteElement.getRootNode().host; if (positionedElement == document.documentElement) { const firstMaskElement = document.querySelector("." + MASK_CLASS); firstMaskElement.parentElement.insertBefore(containerElement, firstMaskElement); } else { positionedElement.appendChild(containerElement); } const boundingRectPositionedElement = positionedElement.getBoundingClientRect(); const stylePositionedElement = window.getComputedStyle(positionedElement); const borderX = parseInt(stylePositionedElement.getPropertyValue("border-left-width")); const borderY = parseInt(stylePositionedElement.getPropertyValue("border-top-width")); noteElement.style.setProperty("position", "absolute"); noteElement.style.setProperty("left", (clientX - boundingRectPositionedElement.x - deltaX - borderX) + "px"); noteElement.style.setProperty("top", (clientY - boundingRectPositionedElement.y - deltaY - borderY) + "px"); }; const getPosition = function getPosition(event) { if (event.touches && event.touches.length) { const touch = event.touches[0]; return touch; } else { return event; } }; const onMouseUp = function onMouseUp(event) { if (highlightSelectionMode) { event.preventDefault(); highlightSelection(); onUpdate(false); } if (removeHighlightMode) { event.preventDefault(); let element = event.target, done; while (element && !done) { if (element.classList.contains(HIGHLIGHT_CLASS)) { document.querySelectorAll("." + HIGHLIGHT_CLASS + "[data-singlefile-highlight-id=" + JSON.stringify(element.dataset.singlefileHighlightId) + "]").forEach(highlightedElement => { resetHighlightedElement(highlightedElement); onUpdate(false); }); done = true; } element = element.parentElement; } } if (resizingNoteMode) { event.preventDefault(); resizingNoteMode = false; document.documentElement.style.removeProperty("user-select"); maskPageElement.classList.remove(PAGE_MASK_ACTIVE_CLASS); document.documentElement.ontouchmove = onTouchMove; document.documentElement.onmousemove = null; onUpdate(false); } if (movingNoteMode) { event.preventDefault(); anchorNote(movingNoteMode.event || event, selectedNote, movingNoteMode.deltaX, movingNoteMode.deltaY); movingNoteMode = null; document.documentElement.ontouchmove = onTouchMove; document.documentElement.onmousemove = null; onUpdate(false); } if ((cuttingMode || cuttingOuterMode) && cuttingPath) { event.preventDefault(); if (event.ctrlKey) { const element = cuttingPath[cuttingPathIndex]; element.classList.toggle(cuttingMode ? CUT_SELECTED_CLASS : CUT_OUTER_SELECTED_CLASS); } else { validateCutElement(event.shiftKey); } } if (collapseNoteTimeout) { clearTimeout(collapseNoteTimeout); collapseNoteTimeout = null; } }; const getShadowRoot = function getShadowRoot(element) { const chrome = window.chrome; if (element.openOrClosedShadowRoot) { return element.openOrClosedShadowRoot; } else if (chrome && chrome.dom && chrome.dom.openOrClosedShadowRoot) { try { return chrome.dom.openOrClosedShadowRoot(element); } catch (error) { return element.shadowRoot; } } else { return element.shadowRoot; } }; const maskNoteElement = getMaskElement("note-mask"); const maskPageElement = getMaskElement("page-mask", "single-file-page-mask"); let selectedNote, highlightSelectionMode, removeHighlightMode, resizingNoteMode, movingNoteMode, collapseNoteTimeout, cuttingMode, cuttingOuterMode; window.onresize = reflowNotes; window.onUpdate = () => {}; document.documentElement.onmouseup = document.documentElement.ontouchend = onMouseUp; processNode(document); reflowNotes(); document.querySelectorAll("single-file-note").forEach(noteElement => attachNoteListeners(noteElement)); })()</script>